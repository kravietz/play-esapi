@(sess: String)
<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>play-esapi</title>
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <script language="JavaScript" src="/assets/javascripts/angular.js"></script>
    <script language="JavaScript" src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.21/angular-cookies.js"></script>
    <script language="JavaScript">
    angular.module('myApp', ['ngCookies']);
    function CookieCtrl($scope, $cookies, $http) {

      // fill cookies
      console.log('cookies=' + $cookies);
      $scope.cookieValue = $cookies;

      // issue XHR
      $http.post('/transactions/secret').success(function(data) {
        $scope.postData = data;
        console.log('post=' + data);
      });

      $http.get('/transactions/secret').success(function(data) {
        $scope.getData = data;
        console.log('get=' + data);
      });

    }

    </script>

</head>

<body ng-controller="CookieCtrl">

<div class="container">

    <div class="row bg-warning">
        <div class="col-md-8 col-md-offset-5">
            @helper.form(action=routes.Application.transactions_login()){
            <input type='submit' name='login' value='Login'/>
            }

            @helper.form(action=routes.Application.transactions_logout()){
            <input type='submit' name='logout' value='Logout'/>
            }

            @helper.form(action=routes.Application.transactions_poc()){
            <input type='submit' name='poc' value='PoC'/>
            }
        </div>
    </div>

    <h1>Secret data</h1>

    <p>You should see "secret data" once you logged in. It should disappear once
        you logged out.</p>

    <div class="row bg-success">
        <div class="col-md-4">
            XHR POST: {{postData}}
        </div>
        <div class="col-md-4">
            XHR GET: {{getData}}
        </div>
    </div>

    <p>When logged in, click the PoC button above to download CSRF exploit file
        and run it in another browser window.</p>

    <h1>Play</h1>

    <p>Play should see the session cookie once user is logged in.</p>

    <div class="row bg-info">
        <p>Session: @sess
    </div>

    <h1>Angular</h1>

    <p>AngularJS should <em>only</em> see the XSRF token cookie. The session cookie has
        httpOnly attribute so it shouldn't be available to JavaScript.</p>

    <div class="row bg-info">
        Cookie Value: {{cookieValue}}
    </div>

    <h1>JavaScript</h1>

    <p>This part is generated by raw JavaScript, bypassing AngularJS just confirm everything
        works as expected.</p>

    <div class="row bg-info">
        <div id="cookies">

        </div>

        <script language="JavaScript">
            document.getElementById("cookies").innerText = document.cookie;
        </script>

</body>
</html>